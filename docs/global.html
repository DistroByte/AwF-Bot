<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="addDeath"><span class="type-signature">(async) </span>addDeath<span class="signature">(server, player, reason)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Adds a death to the player with a reason
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>server</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The server's corresponding Discord channel name, e.g. awf-regular</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>player</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Player name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>reason</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Reason why player died</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line593">line 593</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// adds locomitive death to oof2win2 on awf-regular
addDeath("awf-regular", "oof2win2", "locomitive")</code></pre>



        
            

    

    
    <h4 class="name" id="addResearch"><span class="type-signature">(async) </span>addResearch<span class="signature">(server, research, level)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Adds a research to the statistics of the Factorio server
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>server</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The server's corresponding Discord channel name, e.g. awf-regular</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>research</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Research name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>level</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Level of research</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line654">line 654</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="addRocket"><span class="type-signature">(async) </span>addRocket<span class="signature">(server)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Adds a rocket launched to the statistics of the Factorio server
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>server</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The server's corresponding Discord channel name, e.g. awf-regular</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line622">line 622</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// adds a rocket launched to awf-regular
addRocket("awf-regular")</code></pre>



        
            

    

    
    <h4 class="name" id="awfLogging"><span class="type-signature">(async) </span>awfLogging<span class="signature">(line, discordChannelID, discordClient)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Parse logging of lines from script-output/ext/awflogging.out into various things, for now joining, leaving and linking
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>line</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">String to be parsed</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordChannelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Channel ID of the Discord server corresponding to the Factorio server the line has been sent from</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordClient</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Discord client object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line932">line 932</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// log oof2win2 joining dev-dump
awfLogging(`{"type":"join","playerName":"oof2win2"}`, "723280139982471247", discordClient)</code></pre>



        
            

    

    
    <h4 class="name" id="bubbleSort"><span class="type-signature"></span>bubbleSort<span class="signature">(arr<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    BubbleSort function by string length
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>arr</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Array of strings to sort</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line99">line 99</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Array of strings sorted by length
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="changePoints"><span class="type-signature">(async) </span>changePoints<span class="signature">(user, built, time, death)</span><span class="type-signature"> &rarr; {Array.&lt;Object>}</span></h4>
    

    



<div class="description">
    Changes the amount of points the player has in the database
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Object of the user, same as linked user: {discordID: "discord id", factorioName: "factorio name"}</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>built</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Number of entities built to add to statistics</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>time</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Number of minutes the user has played</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>death</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            
                <td class="default">
                
                    0
                
                </td>
            

            <td class="description last">number of deaths</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line889">line 889</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#searchOneDB">searchOneDB</a> to see how searching database is done</li>
        
            <li><a href="global.html#findOneAndReplaceDB">findOneAndReplaceDB</a> to how replacing in database is done</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    an array of the object the data was replaced with, object of the user inputted
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Object></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// ex1: oof2win2 built 68 entities and played 93 minutes
changePoints({factorioName: "oofw2win2", discordID: "69420"}, 68, 93, 0)
// ex2: oof2win2 died once
changePoints({factorioName: "oofw2win2", discordID: "69420"}, 0, 0, 1)</code></pre>



        
            

    

    
    <h4 class="name" id="datastoreInput"><span class="type-signature">(async) </span>datastoreInput<span class="signature">(line, discordChannelID, discordClient, discordChannelName, serverObject)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Input to the datastore (parsing from script-output/ext/datastore.out). Searches/adds data in database otherData, it's up to the server to handle the collection name
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>line</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Line from datastore.out to parse</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordChannelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of the Discord channel corresponding to the server</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordClient</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Discord client object</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordChannelName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of the Discord channel corresponding to the Factorio server</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>serverObject</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Object of the server from servers.json</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line998">line 998</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Factorio Scenario (<a href="https://github.com/oof2win2/AwF-Scenario">GitHub repo</a>)</li>
        </ul>
    </dd>
    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// This line from datastore.out is requesting the playerData of player oof2win2, so we give the function
// the ID of the channel, Discord client, channel name and Discord object.
// In different types ("request" can be other things, see scenario), this function can work with the database
// in different ways
datastoreInput("request PlayerData oof2win2", "723280139982471247", discordClient, "dev-dump", serverObject)</code></pre>



        
            

    

    
    <h4 class="name" id="deleteOneDB"><span class="type-signature">(async) </span>deleteOneDB<span class="signature">(databaseName, collectionName, params)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Finds and deletes the specified object from the database's collection
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>databaseName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>collectionName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The object to delete</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line370">line 370</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#searchOneDB">searchOneDB</a> to get the object to delete</li>
        
            <li><a href="http://mongodb.github.io/node-mongodb-native/3.6/api/Collection.html#deleteOne">MongoCollection#deleteOne</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Object containing: A boolean acknowledged as true if the operation ran with write concern or false if write concern was disabled; deletedCount containing the number of deleted documents
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// deletes the object {playerName: "oof2win2", playtime: 6000} from otherData's collection linkedPlayers
deleteOneDB("otherData", "linkedPlayers", {playerName: "oof2win2", playtime: 6000})</code></pre>



        
            

    

    
    <h4 class="name" id="discordLog"><span class="type-signature">(async) </span>discordLog<span class="signature">(line, discordChannelID, discordClient)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Log specific things (bans, kicks, jails etc.) to Discord
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>line</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Message embed to send to the channel - input is literraly an already done Discord MessageEmbed</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordChannelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Channel ID of the Discord server corresponding to the Factorio server the line has been sent from</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordClient</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Discord client object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line971">line 971</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Factorio Scenario (<a href="https://github.com/oof2win2/AwF-Scenario">GitHub repo</a>)</li>
        </ul>
    </dd>
    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// oof2win2 used /c
discordLog("{"title":"C","description":"/c was used","color":"0x808080","fields":[{"name":"Server Details","value":"Server: ${serverName} Time: 1 days 0 hours 18 minutes\nTotal: 7 Online: 1 Admins: 1"},{"name":"By","value":"oof2win2","inline":true},{"name":"Details","value":"game.reload_script()","inline":true}]}", "723280139982471247", discordClient)</code></pre>



        
            

    

    
    <h4 class="name" id="findOneAndReplaceDB"><span class="type-signature">(async) </span>findOneAndReplaceDB<span class="signature">(databaseName, collectionName, toFind, toReplace)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Finds specified object and replaces it in the database's collection.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>databaseName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Database to find and replace in</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>collectionName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Collection of database to find and replace in</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>toFind</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Object to find (key)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>toReplace</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Object to replace</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line346">line 346</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#searchOneDB">searchOneDB</a> to get the object to search for</li>
        
            <li><a href="http://mongodb.github.io/node-mongodb-native/3.6/api/Collection.html#findOneAndReplace">MongoCollection#findOneAndReplace</a> for how the function works</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The original document (toFind) or the document that it has been replaced with (toReplace)
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Will replace oof2win2's playtime from 1 to 900
findOneAndReplaceDB("otherData", "stats", {playerName: "oof2win2", playtime: 1}, {playerName: "oof2win2", playtime: 900})</code></pre>



        
            

    

    
    <h4 class="name" id="formatChatData"><span class="type-signature"></span>formatChatData<span class="signature">(data, keepData)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Formats chat data from Factorio to send to Discord or other uses. Gets rid of usernames, [CHAT] etc. from raw logs to make nice stuff
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The data you wish to parse</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keepData</code></td>
            

            <td class="type">
            
                
<span class="param-type">bool</span>


            
            </td>

            

            

            <td class="description last">Whether you wish to keep the data that is formatted out from chat. Does nothing as of yet, please keep to true (1) for now</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line198">line 198</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The parsed string (line/input)
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns "ZTX: here [gps=0, 0], [item]"
formatChatData("2020-12-16 20:27:45 [CHAT] ZTX: here [gps=0, 0], [item=iron-plate]", 1)</code></pre>



        
            

    

    
    <h4 class="name" id="formatDate"><span class="type-signature"></span>formatDate<span class="signature">(data)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Format the date when the server started
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Line of server.out output</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line181">line 181</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Time
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="formatSaveData"><span class="type-signature"></span>formatSaveData<span class="signature">(data)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Get the name of the save currently saving into
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Line of data to format</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line172">line 172</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Name of the save
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns "_autosave34"
formatSaveData("[REGULAR] 41300.079 Info AppManager.cpp:306: Saving to _autosave34 (blocking).")</code></pre>



        
            

    

    
    <h4 class="name" id="formatVersion"><span class="type-signature"></span>formatVersion<span class="signature">(data)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Get the version of Factorio the server is running
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Line of data from server.out</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line194">line 194</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Version the server is running
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns 1.1.6
formatVersion("    0.000 2020-12-20 01:30:07; Factorio 1.1.6 (build 57355, linux64, headless)")</code></pre>



        
            

    

    
    <h4 class="name" id="getFactorioRoles"><span class="type-signature">(async) </span>getFactorioRoles<span class="signature">(factorioName)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Gets the roles of the player requested
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>factorioName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">In-game username of the player to get roles of</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line546">line 546</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#giveFactorioRole">giveFactorioRole</a> how roles are added to database</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Array of roles the player has in the database
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns ["Member", "Veteran", "Moderator"]
getFactorioRoles("oof2win2")</code></pre>



        
            

    

    
    <h4 class="name" id="getServerFromChannelInput"><span class="type-signature"></span>getServerFromChannelInput<span class="signature">(channelID)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Gets a server object from servers.json from the discord ID of the channel corresponding to the server
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the channel ID of the server</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line286">line 286</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The object of the server from servers.json or null if server is not found
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>getServerFromChannelInput("723280139982471247")
// returns the dev-dump server object - 723280139982471247 is dev-dump's Discord channel ID
{
 name: "TEST",
 discordChannelID: "723280139982471247",
 discordChannelName: "dev-dump",
 serverOut: "../servers/test/server.out",
 serverFifo: "../servers/test/server.fifo",
 serverFolderName: "test",
 rconPortOffset: 0
}</code></pre>



        
            

    

    
    <h4 class="name" id="getServerList"><span class="type-signature"></span>getServerList<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Gets the list of servers
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line761">line 761</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Array of strings (server folder names)
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="giveFactorioRole"><span class="type-signature">(async) </span>giveFactorioRole<span class="signature">(username, roleName)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    This function adds the role given to the user in the database, so the user gets the role upon connecting
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The name of the player</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>roleName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The name of the role you want to give to the player</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line516">line 516</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Output of inserting to database, therefore object with return values, confirmation etc.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// adds "Member" to oof2win2's roles in the database, doesn't actually give the role in-game
giveFactorioRole("oof2win2", "Member")</code></pre>



        
            

    

    
    <h4 class="name" id="givePlayerRoles"><span class="type-signature">(async) </span>givePlayerRoles<span class="signature">(factorioName, role, serverName)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Gives a plauer roles on a specific server, adds the role to the database if the role is not on the player yet
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>factorioName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of the Factorio player to assign roles to</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>role</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Role name to assign on server</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>serverName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of the server as in servers.json</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line562">line 562</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#giveFactorioRole">giveFactorioRole</a> for adding role to database</li>
        </ul>
    </dd>
    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// gives oof2win2 role "Trainee" (they don't have it yet) on server Core
givePlayerRoles("oof2win2", "Trainee", "CORE")</code></pre>



        
            

    

    
    <h4 class="name" id="insertOneDB"><span class="type-signature">(async) </span>insertOneDB<span class="signature">(databaseName, collectionName, toInsert)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Inserts an object into a specified database's collection
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>databaseName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Database name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>collectionName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Collection name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>toInsert</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Object to insert to the database</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line326">line 326</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://mongodb.github.io/node-mongodb-native/3.6/api/Collection.html#insertOne">MongoCollection#insertOne</a> for how the function works</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Object with return values, e.g. the ID of the object, return status etc
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// inserts {factorioName: "oof2win2", discordID: "6684"} into the database otherData collection linkedPlayers
await insertOneDB("otherData", "linkedPlayers", {factorioName: "oof2win2", discordID: "6684"})</code></pre>



        
            

    

    
    <h4 class="name" id="linkFactorioDiscordUser"><span class="type-signature">(async) </span>linkFactorioDiscordUser<span class="signature">(discordClient, factorioName, discordName, discordChannelID)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Links a Factorio and Discord user, goes through the process of linking them. After linking, assigns the Member role to the player where the player issued the command to link themselves
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>discordClient</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Discord client object</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>factorioName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Factorio name of the user</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Discord name of the user</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordChannelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Discord Channel ID, used to add roles</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line794">line 794</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="onJoin"><span class="type-signature">(async) </span>onJoin<span class="signature">(playerName, discordChannel, discordClient)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    What is done when a player joins a server
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>playerName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of the player joined</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordChannel</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of the Discord channel corresponding to the Factorio server</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>discordClient</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Discord client object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line1090">line 1090</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Factorio Scenario (<a href="https://github.com/oof2win2/AwF-Scenario">GitHub repo</a>)</li>
        </ul>
    </dd>
    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// oof2win2 joined dev-dump, which has channel ID of 723280139982471247
onJoin("oof2win2", "723280139982471247", discordClient)</code></pre>



        
            

    

    
    <h4 class="name" id="parseJammyLogger"><span class="type-signature">(async) </span>parseJammyLogger<span class="signature">(line, channel)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Parses a line of Jammy logging. Handles statistics, deaths, rockets etc.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>line</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Line of Jammy logging input</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Discord channel object of corresponding Factorio server's channel</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line697">line 697</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#addRocket">addRocket</a> for  adding rockets</li>
        
            <li><a href="global.html#addDeath">addDeath</a> for adding deaths</li>
        
            <li><a href="global.html#addResearch">addResearch</a> for adding research</li>
        
            <li><a href="global.html#changePoints">changePoints</a> for changing points</li>
        </ul>
    </dd>
    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// parse this line into points (logged by the AwF scenario)
// first number (116) is number of entities built, second number (43180) is number of ticks played
// both measured since last time played
parseJammyLogger("JLOGGER: STATS: Windsinger 116 43180", awf-regularChannelObject)</code></pre>



        
            

    

    
    <h4 class="name" id="rconCommand"><span class="type-signature">(async) </span>rconCommand<span class="signature">(command, serverName)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Sends a Factorio command to RCON.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>command</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Command to send to the server (auto-prefixed with '/')</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>serverName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of the server according to the name parameter in servers.json</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line391">line 391</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Returns an array with 2 elements, first being command output (string). Second element is either a blank string, or a string beginning with "error:" and containing the error given
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// sends /time to server with name TEST in servers.json
// returns ["2 days, 28 minutes and 1 second", ""] when succesfull
// returns ["", "error: stuff"] when unsuccesfull
rconCommand(`/time`, "TEST")</code></pre>



        
            

    

    
    <h4 class="name" id="rconCommandAll"><span class="type-signature">(async) </span>rconCommandAll<span class="signature">(command)</span><span class="type-signature"> &rarr; {Array.&lt;Array, string>}</span></h4>
    

    



<div class="description">
    Like the function rconCommand but sends the RCON command to all servers
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>command</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Command to send to server (auto prefixed with '/')</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line445">line 445</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#rconCommand">rconCommand</a> to see how the RCON commands work</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Returns an array of command outputs (arrays) and errors (strings), with the command outputs being same as rconCommand: either ["2 days, 28 minutes and 1 second", ""] or ["", "error: stuff"] if an error occurs. Example return is [["2 days, 28 minutes and 1 second", ""], "CORE"]
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Array, string></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// sends /time to all servers
// returns [[["2 days, 28 minutes and 1 second", ""], "CORE"], [["19 days, 5 minutes and 1 second", ""], "AWF-REG"]]
// the number of returns and return values depends on the number of servers and age of servers respectively
await rconCommandAll("/time")</code></pre>



        
            

    

    
    <h4 class="name" id="rconCommandAllExclude"><span class="type-signature">(async) </span>rconCommandAllExclude<span class="signature">(command, exclude)</span><span class="type-signature"> &rarr; {Array.&lt;Array, string>}</span></h4>
    

    



<div class="description">
    Sends an RCON command to all servers except the ones excluded
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>command</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Command to send to servers</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>exclude</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Servers to exclude, e.g. ["TEST", "CORE", "AWF-REG"]</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line481">line 481</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#rconCommand">rconCommand</a> to see how the RCON commands work</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Returns an array of command outputs (arrays) and errors (strings), with the command outputs being same as rconCommand: either ["2 days, 28 minutes and 1 second", ""] or ["", "error: stuff"] if an error occurs. Example return is [["2 days, 28 minutes and 1 second", ""], "CORE"]
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Array, string></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// sends /time to all servers except dev server
// returns [[["2 days, 28 minutes and 1 second", ""], "CORE"], [["19 days, 5 minutes and 1 second", ""], "AWF-REG"]]
// the number of returns and return values depends on the number of servers and age of servers respectively, with the excluded server not being shown as returned
await rconCommandAllExclude("/time", ["TEST"])</code></pre>



        
            

    

    
    <h4 class="name" id="runShellCommand"><span class="type-signature">(async) </span>runShellCommand<span class="signature">(cmd)</span><span class="type-signature"> &rarr; {Promise.&lt;(Error|string|Buffer)>}</span></h4>
    

    



<div class="description">
    Runs a shell command under the user the bot is running under, e.g. factorio. commands can be linked with standard linkers, ; and &&. Rejects when stderr or error
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cmd</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Command to execute in shell</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line777">line 777</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback">Child Process</a> Node docs</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(Error|string|Buffer)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="searchOneDB"><span class="type-signature">(async) </span>searchOneDB<span class="signature">(databaseName, collectionName, toSearch)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
    

    



<div class="description">
    Search for one item in the database
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>databaseName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Database name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>collectionName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Collection name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>toSearch</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">"Key" to search for/with</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line308">line 308</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://mongodb.github.io/node-mongodb-native/3.6/api/Collection.html#findOne">MongoCollection#findOne</a> for how the function works in more detail</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Object from database's collection or null if not found
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns the object with a property factorioName with the value "oof2win2"
await searchOneDB("otherData", "linkedPlayers", {factorioName: "oof2win2"})</code></pre>



        
            

    

    
    <h4 class="name" id="sendToAll"><span class="type-signature"></span>sendToAll<span class="signature">(message, sendWithUsername)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Send a message to all servers (announcement or something)
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Message to send, format of DiscordMessage</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sendWithUsername</code></td>
            

            <td class="type">
            
                
<span class="param-type">bool</span>


            
            </td>

            

            

            <td class="description last">Whether to send message with username or not</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line146">line 146</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="sendToServer"><span class="type-signature"></span>sendToServer<span class="signature">(message, sendWithUsername)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Sends a message to only one server
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Discord message object to send to Factorio server. Used for which server to send to by getting the server by channel ID</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sendWithUsername</code></td>
            

            <td class="type">
            
                
<span class="param-type">bool</span>


            
            </td>

            

            

            <td class="description last">Whether to send with username or not</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="sortModifiedDate"><span class="type-signature">(async) </span>sortModifiedDate<span class="signature">(dir)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Gets files from a folder and sorts them by date last modified
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dir</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Directory to get files from</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="functions.js.html">functions.js</a>, <a href="functions.js.html#line72">line 72</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Array of strings of filenames in order of last modified
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// get the files from ./commands/basic
sortModifiedDate("./commands/basic")
// returns:
[
  'sortdate.js',
  'ping.js',
  'faq.js',
  'help.js',
  'stats.js',
  'uptime.js',
  'xkcd.js'
]</code></pre>



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addDeath">addDeath</a></li><li><a href="global.html#addResearch">addResearch</a></li><li><a href="global.html#addRocket">addRocket</a></li><li><a href="global.html#awfLogging">awfLogging</a></li><li><a href="global.html#bubbleSort">bubbleSort</a></li><li><a href="global.html#changePoints">changePoints</a></li><li><a href="global.html#datastoreInput">datastoreInput</a></li><li><a href="global.html#deleteOneDB">deleteOneDB</a></li><li><a href="global.html#discordLog">discordLog</a></li><li><a href="global.html#findOneAndReplaceDB">findOneAndReplaceDB</a></li><li><a href="global.html#formatChatData">formatChatData</a></li><li><a href="global.html#formatDate">formatDate</a></li><li><a href="global.html#formatSaveData">formatSaveData</a></li><li><a href="global.html#formatVersion">formatVersion</a></li><li><a href="global.html#getFactorioRoles">getFactorioRoles</a></li><li><a href="global.html#getServerFromChannelInput">getServerFromChannelInput</a></li><li><a href="global.html#getServerList">getServerList</a></li><li><a href="global.html#giveFactorioRole">giveFactorioRole</a></li><li><a href="global.html#givePlayerRoles">givePlayerRoles</a></li><li><a href="global.html#insertOneDB">insertOneDB</a></li><li><a href="global.html#linkFactorioDiscordUser">linkFactorioDiscordUser</a></li><li><a href="global.html#onJoin">onJoin</a></li><li><a href="global.html#parseJammyLogger">parseJammyLogger</a></li><li><a href="global.html#rconCommand">rconCommand</a></li><li><a href="global.html#rconCommandAll">rconCommandAll</a></li><li><a href="global.html#rconCommandAllExclude">rconCommandAllExclude</a></li><li><a href="global.html#runShellCommand">runShellCommand</a></li><li><a href="global.html#searchOneDB">searchOneDB</a></li><li><a href="global.html#sendToAll">sendToAll</a></li><li><a href="global.html#sendToServer">sendToServer</a></li><li><a href="global.html#sortModifiedDate">sortModifiedDate</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sun Dec 20 2020 02:41:55 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>